$def with (sess)

<html>
  <head>
    <title>What Should I Do?</title>
    <link rel="stylesheet" type="text/css" href="/static/style.css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/static/dist/css/bootstrap.min.css">
    <script src="/static/dist/js/bootstrap.js"></script>
    <script src="/static/sess.js"></script>
    
    <script>
      function doAsk() {
        var opt1 = document.getElementById('opt1').value;
        var opt2 = document.getElementById('opt2').value;
        $$.post("/q/?opt1=" + opt1 + "&opt2=" + opt2);
        window.location = '/u/questions';
      }
    </script>
  
  </head>

  $if sess is None:
    <body onload='showLogin()'>
  $else:
    <body>
<div id="fb-root"></div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '217657201758115',
      status     : true, // check login status
      cookie     : true, // enable cookies to allow the server to access the session
      xfbml      : true  // parse XFBML
    });
    
    FB.getLoginStatus(function(response) {
      if (response.status === 'connected') {
        alert("yay");
      } else if (response.status === 'not_authorized') {
        alert("maybe");
      } else {
        FB.login(function(response) {
         if (response.authResponse) {
           console.log('Welcome!  Fetching your information.... ');
           FB.api('/me', function(response) {
             console.log('Good to see you, ' + response.name + '.');
           });
         } else {
           console.log('User cancelled login or did not fully authorize.');
         }
       });
      }
    });
  };

  // Load the SDK asynchronously
  (function(d){
   var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
   if (d.getElementById(id)) {return;}
   js = d.createElement('script'); js.id = id; js.async = true;
   js.src = "//connect.facebook.net/en_US/all.js";
   ref.parentNode.insertBefore(js, ref);
  }(document));

  // Here we run a very simple test of the Graph API after login is successful. 
  // This testAPI() function is only called in those cases. 
  function testAPI() {
    console.log('Welcome!  Fetching your information.... ');
    FB.api('/me', function(response) {
      console.log('Good to see you, ' + response.name + '.');
    });
  }
</script>
  
  <nav class="navbar navbar-default" role="navigation">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">What Should I Do?</a>
    </div>
       <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav nav-pullright">
          <li class="nav-pullleft" style="float:left;">
              <a href="/u/about">About</a>
          $if sess is None:
            <li class="nav-button" type="login" onclick="showLogin()">
              <a href="#">Login</a>
            </li>
            <li class="nav-button" type="register" onclick="showRegister()">
              <a href="#">Register</a>
            </li>
          $else:
            </li>
                <li class="nav-pullleft" style="float:left;">
                <a href="/u/questions">Questions</a>
            </li>
            <li class="nav-button" type="register" onclick="showLogout()">
              <a href="#">logout</a>
            </li>
            
        </ul>
        
      </div> 
    </div>
  </nav>
	  
      <span id="top">What Should I Do?</span>
      <div id='sbox'>
        <span style="font-size: 25px">Should I</span>
        <input type='text' id='opt1' contentEditable='true'/>
        <span style="font-size: 25px">or</span>
        <input type='text'  id='opt2' contentEditable='true'/>
        <span style="font-size: 25px">?</span>
        <br><br/>
        <input type="button" value="Consult the Masses" onclick="doAsk()">
      </div>
      
      <div id='popup' class='popup'></div>
    <div style='position: relative; top: 60%' class="panel panel-default">
      <div class="panel-footer navbar-fixed-bottom" style="text-align:right;">
        By Krupcake, the Penn Head TA, Mahatma Gindi, Poliak - Copyright 2014
      </div>
    </div>
  </body>
</html>
